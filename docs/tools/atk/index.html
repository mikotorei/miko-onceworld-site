<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>与ダメージ計算 | OnceWorld(ワンスワ)miko</title>
  <link rel="stylesheet" href="https://matsumoto0106.github.io/miko-onceworld-site/css/style.css">
  <link rel="stylesheet" href="https://matsumoto0106.github.io/miko-onceworld-site/css/monster.css">


  
</head>
<body>

<header class="site-header">
  <h1 class="site-title">
    <a href="https://matsumoto0106.github.io/miko-onceworld-site/">
      OnceWorld(ワンスワ)miko
    </a>
  </h1>
</header>

<main style="padding:10px;">
  

<h1>与ダメージ計算</h1>

<div class="tool-container">
  <p>与ダメージを計算するツールです。</p>
<hr>
<section class="atk-tool">
  <h2>与ダメージ計算</h2>
  <div class="atk-form">
  <div class="form-row">
      <label for="monster-select">モンスター選択：</label>
      <select id="monster-select">
        <option value="">-- 選択してください --</option>
      
        
          
            <option
              value="100"
              data-def="100"
              data-mdef="200"
            >
              BOX
            </option>
          
        
          
            <option
              value="8"
              data-def="8"
              data-mdef="28"
            >
              アヌビス
            </option>
          
        
          
            <option
              value="9"
              data-def="9"
              data-mdef="4"
            >
              アリクイロード
            </option>
          
        
          
            <option
              value="77"
              data-def="77"
              data-mdef="15"
            >
              イージスリエル
            </option>
          
        
          
            <option
              value="22"
              data-def="22"
              data-mdef="46"
            >
              イグニシア
            </option>
          
        
          
            <option
              value="55"
              data-def="55"
              data-mdef="112"
            >
              イグニス・シスター
            </option>
          
        
          
            <option
              value="48"
              data-def="48"
              data-mdef="30"
            >
              ウォーデン
            </option>
          
        
          
            <option
              value="11"
              data-def="11"
              data-mdef="71"
            >
              うねうね
            </option>
          
        
          
            <option
              value="16"
              data-def="16"
              data-mdef="9"
            >
              エジプトアシュラ
            </option>
          
        
          
            <option
              value="100"
              data-def="100"
              data-mdef="100"
            >
              エレファントパラディン
            </option>
          
        
          
            <option
              value="39"
              data-def="39"
              data-mdef="99"
            >
              オルド･クラウセス
            </option>
          
        
          
            <option
              value="7"
              data-def="7"
              data-mdef="5"
            >
              オルトロス
            </option>
          
        
          
            <option
              value="26"
              data-def="26"
              data-mdef="65"
            >
              ガチキメラ
            </option>
          
        
          
            <option
              value="29"
              data-def="29"
              data-mdef="22"
            >
              ギガントオーク
            </option>
          
        
          
            <option
              value="99"
              data-def="99"
              data-mdef="40"
            >
              キメラキング
            </option>
          
        
          
            <option
              value="11"
              data-def="11"
              data-mdef="3"
            >
              キメラタートル
            </option>
          
        
          
            <option
              value="40"
              data-def="40"
              data-mdef="15"
            >
              クリーチャーアイ
            </option>
          
        
          
            <option
              value="1"
              data-def="1"
              data-mdef="1"
            >
              クリーチャーローズ
            </option>
          
        
          
            <option
              value="2"
              data-def="2"
              data-mdef="3"
            >
              グリーンスライム
            </option>
          
        
          
            <option
              value="32"
              data-def="32"
              data-mdef="25"
            >
              ケルベロス
            </option>
          
        
          
            <option
              value="13"
              data-def="13"
              data-mdef="23"
            >
              ゴブリンクルー
            </option>
          
        
          
            <option
              value="3"
              data-def="3"
              data-mdef="3"
            >
              ゴブリンメイジ
            </option>
          
        
          
            <option
              value="2"
              data-def="2"
              data-mdef="3"
            >
              ゴブリン特攻隊
            </option>
          
        
          
            <option
              value="10"
              data-def="10"
              data-mdef="2"
            >
              シカファイター
            </option>
          
        
          
            <option
              value="36"
              data-def="36"
              data-mdef="45"
            >
              スカルウィスプ
            </option>
          
        
          
        
          
            <option
              value="11"
              data-def="11"
              data-mdef="31"
            >
              スノーモケラ
            </option>
          
        
          
            <option
              value="5"
              data-def="5"
              data-mdef="14"
            >
              ダークメイジ
            </option>
          
        
          
            <option
              value="25"
              data-def="25"
              data-mdef="36"
            >
              ダイコンに見えるダイコン
            </option>
          
        
          
            <option
              value="15"
              data-def="15"
              data-mdef="9"
            >
              デーモンブレイド
            </option>
          
        
          
            <option
              value="21"
              data-def="21"
              data-mdef="17"
            >
              デザートイッヌ
            </option>
          
        
          
            <option
              value="26"
              data-def="26"
              data-mdef="20"
            >
              ヌー
            </option>
          
        
          
            <option
              value="35"
              data-def="35"
              data-mdef="91"
            >
              ネクロプリンセス
            </option>
          
        
          
            <option
              value="115"
              data-def="115"
              data-mdef="5"
            >
              バーニングロック
            </option>
          
        
          
            <option
              value="17"
              data-def="17"
              data-mdef="23"
            >
              ハネスライム
            </option>
          
        
          
            <option
              value="28"
              data-def="28"
              data-mdef="17"
            >
              パンダ
            </option>
          
        
          
            <option
              value="16"
              data-def="16"
              data-mdef="19"
            >
              ファイヤーメイジ
            </option>
          
        
          
            <option
              value="18"
              data-def="18"
              data-mdef="28"
            >
              ファントムツリー
            </option>
          
        
          
            <option
              value="8"
              data-def="8"
              data-mdef="321"
            >
              ブタ天使
            </option>
          
        
          
            <option
              value="29"
              data-def="29"
              data-mdef="28"
            >
              フレイムフロッグ
            </option>
          
        
          
            <option
              value="48"
              data-def="48"
              data-mdef="48"
            >
              フレイムボーン
            </option>
          
        
          
            <option
              value="1"
              data-def="1"
              data-mdef="1"
            >
              ペリカンEXP
            </option>
          
        
          
            <option
              value="8"
              data-def="8"
              data-mdef="1"
            >
              ペンギンソルジャー
            </option>
          
        
          
            <option
              value="15"
              data-def="15"
              data-mdef="20"
            >
              ペンギンロード
            </option>
          
        
          
            <option
              value="50"
              data-def="50"
              data-mdef="12"
            >
              ボーンバトラー
            </option>
          
        
          
            <option
              value="5"
              data-def="5"
              data-mdef="8"
            >
              ボスゴブリン
            </option>
          
        
          
            <option
              value="15"
              data-def="15"
              data-mdef="9"
            >
              ホネ
            </option>
          
        
          
            <option
              value="22"
              data-def="22"
              data-mdef="26"
            >
              ホムラウマ
            </option>
          
        
          
            <option
              value="3"
              data-def="3"
              data-mdef="2"
            >
              マッドカエル
            </option>
          
        
          
            <option
              value="29"
              data-def="29"
              data-mdef="39"
            >
              ランプの精霊
            </option>
          
        
          
            <option
              value="2"
              data-def="2"
              data-mdef="2"
            >
              レッドゴブリン
            </option>
          
        
          
            <option
              value="30"
              data-def="30"
              data-mdef="50"
            >
              不思議なツボ
            </option>
          
        
          
        
          
            <option
              value="145"
              data-def="145"
              data-mdef="145"
            >
              冥王ノクタール
            </option>
          
        
          
            <option
              value="19"
              data-def="19"
              data-mdef="1"
            >
              動く墓
            </option>
          
        
          
            <option
              value="2"
              data-def="2"
              data-mdef="9"
            >
              原始蝶
            </option>
          
        
          
            <option
              value="111"
              data-def="111"
              data-mdef="61"
            >
              古代魚　ザコーン
            </option>
          
        
          
            <option
              value="31"
              data-def="31"
              data-mdef="36"
            >
              天狗
            </option>
          
        
          
            <option
              value="30"
              data-def="30"
              data-mdef="17"
            >
              居住者A
            </option>
          
        
          
            <option
              value="12"
              data-def="12"
              data-mdef="37"
            >
              居住者B
            </option>
          
        
          
            <option
              value="89"
              data-def="89"
              data-mdef="3"
            >
              悪夢の石像
            </option>
          
        
          
            <option
              value="59"
              data-def="59"
              data-mdef="69"
            >
              捧げし者
            </option>
          
        
          
            <option
              value="46"
              data-def="46"
              data-mdef="66"
            >
              支配のトリ
            </option>
          
        
          
            <option
              value="81"
              data-def="81"
              data-mdef="81"
            >
              時空龍クロノゼリウス
            </option>
          
        
          
            <option
              value="85"
              data-def="85"
              data-mdef="105"
            >
              朽ちざる竜骸　イゾ
            </option>
          
        
          
            <option
              value="17"
              data-def="17"
              data-mdef="17"
            >
              死戦士マミー
            </option>
          
        
          
            <option
              value="26"
              data-def="26"
              data-mdef="130"
            >
              残燃モエコ
            </option>
          
        
          
            <option
              value="25"
              data-def="25"
              data-mdef="35"
            >
              深淵灯魚
            </option>
          
        
          
            <option
              value="80"
              data-def="80"
              data-mdef="21"
            >
              炎鬼
            </option>
          
        
          
            <option
              value="31"
              data-def="31"
              data-mdef="41"
            >
              烈火鼠
            </option>
          
        
          
            <option
              value="18"
              data-def="18"
              data-mdef="25"
            >
              焼きトリ
            </option>
          
        
          
            <option
              value="15"
              data-def="15"
              data-mdef="90"
            >
              燃えてる何か
            </option>
          
        
          
            <option
              value="75"
              data-def="75"
              data-mdef="105"
            >
              禁域のアヌビシュ
            </option>
          
        
          
            <option
              value="101"
              data-def="101"
              data-mdef="100"
            >
              禁域のヴァルネシア
            </option>
          
        
          
            <option
              value="74"
              data-def="74"
              data-mdef="184"
            >
              禁域のクマヌイ
            </option>
          
        
          
            <option
              value="45"
              data-def="45"
              data-mdef="165"
            >
              禁域のラミア
            </option>
          
        
          
            <option
              value="100"
              data-def="100"
              data-mdef="100"
            >
              禁域の巨木
            </option>
          
        
          
            <option
              value="45"
              data-def="45"
              data-mdef="5"
            >
              紅サソリ
            </option>
          
        
          
            <option
              value="74"
              data-def="74"
              data-mdef="115"
            >
              聡明神　トモダチ
            </option>
          
        
          
            <option
              value="31"
              data-def="31"
              data-mdef="81"
            >
              邪黒龍
            </option>
          
        
          
            <option
              value="4"
              data-def="4"
              data-mdef="15"
            >
              鉄罠花
            </option>
          
        
          
            <option
              value="13"
              data-def="13"
              data-mdef="13"
            >
              雪だるまん
            </option>
          
        
          
            <option
              value="88"
              data-def="88"
              data-mdef="188"
            >
              零の者
            </option>
          
        
      
      </select>

    </div>
  <div class="form-row">
      <label for="monster-level">モンスターレベル：</label>
      <input type="number" id="monster-level" value="1" min="1">
    </div>
  <div class="form-row">
      <span>攻撃タイプ：</span>
      <label><input type="radio" name="attack-type" value="phys" checked> 物理（ATK）</label>
      <label><input type="radio" name="attack-type" value="magic"> 魔法（INT）</label>
    </div>
  <div class="form-row">
      <label for="atk">ATK：</label>
      <input type="number" id="atk" value="100" min="0">
    </div>
  <div class="form-row">
      <label for="int">INT：</label>
      <input type="number" id="int" value="100" min="0">
    </div>
  <div class="form-row">
      <label for="def">DEF：</label>
      <input type="number" id="def" value="0" min="0">
    </div>
  <div class="form-row">
      <label for="mdef">MDEF：</label>
      <input type="number" id="mdef" value="0" min="0">
    </div>
<p><button id="calc-btn">計算する</button></p>
  </div>
  <div class="atk-result">
    <p>与ダメージ：<span id="result">---</span></p>
    <p id="minline">最低ライン：---</p>
  </div>
</section>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const selectEl  = document.getElementById("monster-select");
  const levelEl   = document.getElementById("monster-level");
  const atkEl     = document.getElementById("atk");
  const intEl     = document.getElementById("int");
  const defEl     = document.getElementById("def");
  const mdefEl    = document.getElementById("mdef");
  const resultEl  = document.getElementById("result");
  const minlineEl = document.getElementById("minline");
  const calcBtn   = document.getElementById("calc-btn");
<p>if (!selectEl || !levelEl || !atkEl || !intEl || !defEl || !mdefEl || !resultEl || !minlineEl || !calcBtn) return;</p>
<p>// モンスター基礎値（Lv1）
let baseDef = 0;
let baseMdef = 0;</p>
<p>// レベル補正：基礎値 × (1 + (Lv-1)*0.1) を切り捨て
function scaleByLevel(base, lv) {
return Math.floor(base * (1 + (lv - 1) * 0.1));
}</p>
<p>function getLv() {
return Math.max(1, Number(levelEl.value || 1));
}</p>
<p>function getAttackType() {
const checked = document.querySelector(&lsquo;input[name=&ldquo;attack-type&rdquo;]:checked&rsquo;);
return checked ? checked.value : &ldquo;phys&rdquo;;
}</p>
<p>// select の data-* から基礎DEF/MDEFを読む
function loadMonsterBases() {
const opt = selectEl.options[selectEl.selectedIndex];
baseDef  = Number(opt?.dataset?.def  ?? opt?.value ?? 0);
baseMdef = Number(opt?.dataset?.mdef ?? 0);
}</p>
<p>// DEF/MDEF をレベル反映して入力欄へ
function recalcMonsterStats() {
const lv = getLv();
if (!baseDef &amp;&amp; !baseMdef) return;
const def  = scaleByLevel(baseDef, lv);
const mdef = scaleByLevel(baseMdef, lv);
defEl.value  = def;
mdefEl.value = mdef;
}</p>
<p>// &mdash;- 正式ダメージ式（乱数は後回し：r=1.0で表示） &mdash;-
function calcPhysicalDamage(atk, def, mdef, r = 1.0) {
const raw = (atk * 1.75 - (def + mdef / 10)) * 4 * r;
return Math.max(0, Math.floor(raw));
}</p>
<p>function calcMagicDamage(intv, def, mdef, r = 1.0) {
const raw = (intv * 1.26 - (mdef + def / 10)) * 4 * r;
return Math.max(0, Math.floor(raw));
}</p>
<p>// &mdash;- 確実に通る最低ライン（最悪乱数 r=0.9 でも 1以上） &mdash;-
function minAtkLine(def, mdef) {
const r = 0.9;
const need = (1 / (4 * r)) + (def + mdef / 10);
return Math.ceil(need / 1.75);
}</p>
<p>function minIntLine(def, mdef) {
const r = 0.9;
const need = (1 / (4 * r)) + (mdef + def / 10);
return Math.ceil(need / 1.26);
}</p>
<p>function updateMinLine() {
const type = getAttackType();
const def  = Number(defEl.value || 0);
const mdef = Number(mdefEl.value || 0);
if (type === &ldquo;phys&rdquo;) {
minlineEl.textContent = <code>確実に1以上出る最低ATK：${minAtkLine(def, mdef)}</code>;
} else {
minlineEl.textContent = <code>確実に1以上出る最低INT：${minIntLine(def, mdef)}</code>;
}
}</p>
<p>function onMonsterOrLevelChanged() {
loadMonsterBases();
recalcMonsterStats();
updateMinLine();
}</p>
<p>// &mdash; イベント &mdash;
selectEl.addEventListener(&ldquo;change&rdquo;, () =&gt; {
levelEl.value = 1; // モンスター切替時はLv1に戻す（不要なら削除OK）
onMonsterOrLevelChanged();
});</p>
<p>levelEl.addEventListener(&ldquo;input&rdquo;, () =&gt; {
recalcMonsterStats();
updateMinLine();
});</p>
<p>document.querySelectorAll(&lsquo;input[name=&ldquo;attack-type&rdquo;]&rsquo;).forEach(radio =&gt; {
radio.addEventListener(&ldquo;change&rdquo;, updateMinLine);
});</p>
<p>calcBtn.addEventListener(&ldquo;click&rdquo;, () =&gt; {
const type = getAttackType();
const atk  = Number(atkEl.value || 0);
const intv = Number(intEl.value || 0);
const def  = Number(defEl.value || 0);
const mdef = Number(mdefEl.value || 0);
const dmg = (type === &ldquo;phys&rdquo;)
? calcPhysicalDamage(atk, def, mdef, 1.0)
: calcMagicDamage(intv, def, mdef, 1.0);
resultEl.textContent = dmg;
updateMinLine();
});</p>
<p>// 初期化
onMonsterOrLevelChanged();
updateMinLine();
});
</script></p>

</div>

<script src="https://matsumoto0106.github.io/miko-onceworld-site/js/atk-calc.js"></script>


</main>

</body>
</html>
